import{S as t,i as e,s,ar as a,k as n,e as r,$ as o,d as c,n as l,c as i,a as m,b as f,f as h,as as p,v as u,r as g,t as $,g as d,a0 as v,h as b,V as k,l as j,B as x,u as E,aD as w,aE as y,ac as _,j as P,m as H,o as D,w as I}from"../../chunks/vendor-dbc710f8.js";import{a as N,b as V}from"../../chunks/db-85317766.js";import{P as B}from"../../chunks/PostList-73e439a3.js";import{S as L}from"../../chunks/consts-9fb24035.js";import"../../chunks/models-64f15429.js";import"../../chunks/stores-23b8e435.js";import"../../chunks/RenderPost-8c7e4d32.js";import"../../chunks/singletons-bb9012b7.js";function S(t){let e,s,a,o,p,u,g,j,x,E=(t[4].message?t[4].message:t[4])+"";return{c(){e=r("div"),s=r("h1"),a=$("500"),o=n(),p=r("p"),u=$("Failed to fetch blog:"),g=n(),j=r("p"),x=$(E),this.h()},l(t){e=i(t,"DIV",{class:!0});var n=m(e);s=i(n,"H1",{});var r=m(s);a=d(r,"500"),r.forEach(c),o=l(n),p=i(n,"P",{});var f=m(p);u=d(f,"Failed to fetch blog:"),f.forEach(c),g=l(n),j=i(n,"P",{});var h=m(j);x=d(h,E),h.forEach(c),n.forEach(c),this.h()},h(){f(e,"class","error svelte-cj52fy")},m(t,n){h(t,e,n),v(e,s),v(s,a),v(e,o),v(e,p),v(p,u),v(e,g),v(e,j),v(j,x)},p(t,e){1&e&&E!==(E=(t[4].message?t[4].message:t[4])+"")&&b(x,E)},i:k,o:k,d(t){t&&c(e)}}}function T(t){let e,s,a,o,p,k,w,y,_=t[3].name+"",P=t[3].description&&C(t);const H=[M,F],D=[];function I(t,e){return t[3]?0:1}return p=I(t),k=D[p]=H[p](t),{c(){e=r("h2"),s=$(_),a=n(),P&&P.c(),o=n(),k.c(),w=j(),this.h()},l(t){e=i(t,"H2",{class:!0});var n=m(e);s=d(n,_),n.forEach(c),a=l(t),P&&P.l(t),o=l(t),k.l(t),w=j(),this.h()},h(){f(e,"class","svelte-cj52fy")},m(t,n){h(t,e,n),v(e,s),h(t,a,n),P&&P.m(t,n),h(t,o,n),D[p].m(t,n),h(t,w,n),y=!0},p(t,e){(!y||1&e)&&_!==(_=t[3].name+"")&&b(s,_),t[3].description?P?P.p(t,e):(P=C(t),P.c(),P.m(o.parentNode,o)):P&&(P.d(1),P=null);let a=p;p=I(t),p===a?D[p].p(t,e):(x(),g(D[a],1,1,(()=>{D[a]=null})),E(),k=D[p],k?k.p(t,e):(k=D[p]=H[p](t),k.c()),u(k,1),k.m(w.parentNode,w))},i(t){y||(u(k),y=!0)},o(t){g(k),y=!1},d(t){t&&c(e),t&&c(a),P&&P.d(t),t&&c(o),D[p].d(t),t&&c(w)}}}function C(t){let e,s=t[3].description+"";return{c(){e=r("div"),this.h()},l(t){e=i(t,"DIV",{class:!0}),m(e).forEach(c),this.h()},h(){f(e,"class","description svelte-cj52fy")},m(t,a){h(t,e,a),e.innerHTML=s},p(t,a){1&a&&s!==(s=t[3].description+"")&&(e.innerHTML=s)},d(t){t&&c(e)}}}function F(t){let e,s,a,o,p,u;return{c(){e=r("div"),s=r("h1"),a=$("404"),o=n(),p=r("p"),u=$("Blog does not exist"),this.h()},l(t){e=i(t,"DIV",{class:!0});var n=m(e);s=i(n,"H1",{});var r=m(s);a=d(r,"404"),r.forEach(c),o=l(n),p=i(n,"P",{});var f=m(p);u=d(f,"Blog does not exist"),f.forEach(c),n.forEach(c),this.h()},h(){f(e,"class","error svelte-cj52fy")},m(t,n){h(t,e,n),v(e,s),v(s,a),v(e,o),v(e,p),v(p,u)},p:k,i:k,o:k,d(t){t&&c(e)}}}function M(t){let e,s;function a(...e){return t[2](t[3],...e)}return e=new B({props:{start:t[1],path:`/blog/${t[3].name}`,total:t[3].posts,loadPosts:a}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,a){D(e,t,a),s=!0},p(s,n){t=s;const r={};2&n&&(r.start=t[1]),1&n&&(r.path=`/blog/${t[3].name}`),1&n&&(r.total=t[3].posts),1&n&&(r.loadPosts=a),e.$set(r)},i(t){s||(u(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){I(e,t)}}}function O(t){let e,s,a,r,o,i,m,f,p,$;return e=new w({props:{class:"skeleton",heading:!0,style:"max-width: 15rem; height: 2.5rem;"}}),a=new w({props:{class:"skeleton",paragraph:!0,style:"margin-top: 0; margin-bottom: 0;",lines:1}}),o=new y({props:{class:"skeleton"}}),m=new _({props:{style:"margin: 2rem;",withOverlay:!1}}),p=new y({props:{class:"skeleton"}}),{c(){P(e.$$.fragment),s=n(),P(a.$$.fragment),r=n(),P(o.$$.fragment),i=n(),P(m.$$.fragment),f=n(),P(p.$$.fragment)},l(t){H(e.$$.fragment,t),s=l(t),H(a.$$.fragment,t),r=l(t),H(o.$$.fragment,t),i=l(t),H(m.$$.fragment,t),f=l(t),H(p.$$.fragment,t)},m(t,n){D(e,t,n),h(t,s,n),D(a,t,n),h(t,r,n),D(o,t,n),h(t,i,n),D(m,t,n),h(t,f,n),D(p,t,n),$=!0},p:k,i(t){$||(u(e.$$.fragment,t),u(a.$$.fragment,t),u(o.$$.fragment,t),u(m.$$.fragment,t),u(p.$$.fragment,t),$=!0)},o(t){g(e.$$.fragment,t),g(a.$$.fragment,t),g(o.$$.fragment,t),g(m.$$.fragment,t),g(p.$$.fragment,t),$=!1},d(t){I(e,t),t&&c(s),I(a,t),t&&c(r),I(o,t),t&&c(i),I(m,t),t&&c(f),I(p,t)}}}function z(t){let e,s,$,d,v;document.title=e=t[0]+" | "+L;let b={ctx:t,current:null,token:null,hasCatch:!0,pending:O,then:T,catch:S,value:3,error:4,blocks:[,,,]};return a(d=N(t[0]),b),{c(){s=n(),$=r("section"),b.block.c(),this.h()},l(t){o('[data-svelte="svelte-1egm2zi"]',document.head).forEach(c),s=l(t),$=i(t,"SECTION",{class:!0});var e=m($);b.block.l(e),e.forEach(c),this.h()},h(){f($,"class","svelte-cj52fy")},m(t,e){h(t,s,e),h(t,$,e),b.block.m($,b.anchor=null),b.mount=()=>$,b.anchor=null,v=!0},p(s,[n]){t=s,(!v||1&n)&&e!==(e=t[0]+" | "+L)&&(document.title=e),b.ctx=t,1&n&&d!==(d=N(t[0]))&&a(d,b)||p(b,t,n)},i(t){v||(u(b.block),v=!0)},o(t){for(let e=0;e<3;e+=1){const t=b.blocks[e];g(t)}v=!1},d(t){t&&c(s),t&&c($),b.block.d(),b.token=null,b=null}}}var R=function(t,e,s,a){return new(s||(s=Promise))((function(n,r){function o(t){try{l(a.next(t))}catch(e){r(e)}}function c(t){try{l(a.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,c)}l((a=a.apply(t,e||[])).next())}))};function q({page:t,fetch:e,session:s,context:a}){return R(this,void 0,void 0,(function*(){let e=/^([^\/]+)(?:\/(\d+))?\/?$/.exec(t.params.blog_slug||"");return e?{props:{blog_name:e[1],start_page:e[2]?Number(e[2]):1}}:{status:404,error:"Page does not exist"}}))}function A(t,e,s){let{blog_name:a}=e,{start_page:n}=e;return t.$$set=t=>{"blog_name"in t&&s(0,a=t.blog_name),"start_page"in t&&s(1,n=t.start_page)},[a,n,(t,e,s)=>V(t.id,e,s)]}export default class extends t{constructor(t){super(),e(this,t,A,z,s,{blog_name:0,start_page:1})}}export{q as load};
