import{S as t,i as e,s,l as a,f as n,r as o,u as r,v as c,d as l,T as i,D as f,E as p,k as u,e as d,t as $,j as m,$ as v,n as h,c as g,a as b,g as k,m as w,b as E,a0 as y,o as x,a7 as I,a8 as D,a9 as S,I as j,w as V,aa as K,J as L,z as P,ab as R,B,V as T,ac as A,ad as z,ae as N,af as O}from"../chunks/vendor-dbc710f8.js";import{a as Y}from"../chunks/models-64f15429.js";import{g as _}from"../chunks/db-85317766.js";import{g as J,R as U}from"../chunks/RenderPost-8c7e4d32.js";import{m as q,s as C}from"../chunks/stores-23b8e435.js";import{S as F}from"../chunks/consts-9fb24035.js";const{document:G,window:H}=R;function M(t){let e,s;return e=new A({props:{style:"margin-top: 2rem;",withOverlay:!1}}),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p:T,i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Q(t){let e,s;return e=new U({props:{post:t[0]}}),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p(t,s){const a={};1&s&&(a.post=t[0]),e.$set(a)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function W(t){let e,s,i,f;const p=[Q,M],u=[];function d(t,e){return t[0]?0:1}return e=d(t),s=u[e]=p[e](t),{c(){s.c(),i=a()},l(t){s.l(t),i=a()},m(t,s){u[e].m(t,s),n(t,i,s),f=!0},p(t,a){let n=e;e=d(t),e===n?u[e].p(t,a):(B(),o(u[n],1,1,(()=>{u[n]=null})),r(),s=u[e],s?s.p(t,a):(s=u[e]=p[e](t),s.c()),c(s,1),s.m(i.parentNode,i))},i(t){f||(c(s),f=!0)},o(t){o(s),f=!1},d(t){u[e].d(t),t&&l(i)}}}function X(t){let e,s;return e=new z({props:{direction:"top",align:"center",tooltipText:"Start",$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p(t,s){const a={};16384&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Z(t){let e,s;return e=new z({props:{direction:"top",align:"center",tooltipText:"Stop",$$slots:{default:[et]},$$scope:{ctx:t}}}),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p(t,s){const a={};16384&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function tt(t){let e,s;return e=new N({props:{class:"clickable-icon"}}),e.$on("click",t[3]),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p:T,i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function et(t){let e,s;return e=new O({props:{class:"clickable-icon"}}),e.$on("click",t[3]),{c(){m(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,a){x(e,t,a),s=!0},p:T,i(t){s||(c(e.$$.fragment,t),s=!0)},o(t){o(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function st(t){let e,a,L,P,R,A,z,N,O,Y,_,J,U,q,C,M,Q,tt,et,st,at,nt,ot,rt,ct,lt,it,ft,pt,ut,dt,$t,mt,vt,ht,gt,bt,kt,wt,Et,yt,xt=t[0];G.title=e="Random | "+F;let It=W(t);const Dt=[Z,X],St=[];function jt(t,e){return t[1]?0:1}function Vt(e){t[6](e)}_=jt(t),J=St[_]=Dt[_](t);let Kt={size:"sm",label:"Speed",helperText:"Number of seconds between posts",min:1};return void 0!==t[2]&&(Kt.value=t[2]),C=new i({props:Kt}),f.push((()=>p(C,"value",Vt))),{c(){a=u(),L=d("div"),It.c(),P=u(),R=d("div"),A=d("p"),z=$("Slideshow"),N=u(),O=d("div"),Y=d("div"),J.c(),U=u(),q=d("div"),m(C.$$.fragment),Q=u(),tt=d("p"),et=$("Keyboard Shortcuts"),st=u(),at=d("ul"),nt=d("li"),ot=d("kbd"),rt=$("space"),ct=$(" - play/pause"),lt=u(),it=d("li"),ft=d("kbd"),pt=$("←"),ut=$(" - previous post"),dt=u(),$t=d("li"),mt=d("kbd"),vt=$("→"),ht=$(" - next post"),gt=u(),bt=d("p"),kt=$("You can also swipe left or right."),this.h()},l(t){v('[data-svelte="svelte-1y452o1"]',G.head).forEach(l),a=h(t),L=g(t,"DIV",{id:!0,class:!0});var e=b(L);It.l(e),e.forEach(l),P=h(t),R=g(t,"DIV",{id:!0,class:!0});var s=b(R);A=g(s,"P",{class:!0});var n=b(A);z=k(n,"Slideshow"),n.forEach(l),N=h(s),O=g(s,"DIV",{class:!0});var o=b(O);Y=g(o,"DIV",{class:!0});var r=b(Y);J.l(r),r.forEach(l),U=h(o),q=g(o,"DIV",{class:!0});var c=b(q);w(C.$$.fragment,c),c.forEach(l),o.forEach(l),Q=h(s),tt=g(s,"P",{class:!0});var i=b(tt);et=k(i,"Keyboard Shortcuts"),i.forEach(l),st=h(s),at=g(s,"UL",{});var f=b(at);nt=g(f,"LI",{});var p=b(nt);ot=g(p,"KBD",{class:!0});var u=b(ot);rt=k(u,"space"),u.forEach(l),ct=k(p," - play/pause"),p.forEach(l),lt=h(f),it=g(f,"LI",{});var d=b(it);ft=g(d,"KBD",{class:!0});var $=b(ft);pt=k($,"←"),$.forEach(l),ut=k(d," - previous post"),d.forEach(l),dt=h(f),$t=g(f,"LI",{});var m=b($t);mt=g(m,"KBD",{class:!0});var E=b(mt);vt=k(E,"→"),E.forEach(l),ht=k(m," - next post"),m.forEach(l),f.forEach(l),gt=h(s),bt=g(s,"P",{class:!0});var y=b(bt);kt=k(y,"You can also swipe left or right."),y.forEach(l),s.forEach(l),this.h()},h(){E(L,"id","post"),E(L,"class","svelte-dk7pnb"),E(A,"class","svelte-dk7pnb"),E(Y,"class","svelte-dk7pnb"),E(q,"class","svelte-dk7pnb"),E(O,"class","svelte-dk7pnb"),E(tt,"class","svelte-dk7pnb"),E(ot,"class","svelte-dk7pnb"),E(ft,"class","svelte-dk7pnb"),E(mt,"class","svelte-dk7pnb"),E(bt,"class","svelte-dk7pnb"),E(R,"id","controls"),E(R,"class","svelte-dk7pnb")},m(e,s){n(e,a,s),n(e,L,s),It.m(L,null),n(e,P,s),n(e,R,s),y(R,A),y(A,z),y(R,N),y(R,O),y(O,Y),St[_].m(Y,null),y(O,U),y(O,q),x(C,q,null),y(R,Q),y(R,tt),y(tt,et),y(R,st),y(R,at),y(at,nt),y(nt,ot),y(ot,rt),y(nt,ct),y(at,lt),y(at,it),y(it,ft),y(ft,pt),y(it,ut),y(at,dt),y(at,$t),y($t,mt),y(mt,vt),y($t,ht),y(R,gt),y(R,bt),y(bt,kt),wt=!0,Et||(yt=[I(H,"keyup",t[4]),D(S.call(null,L,{timeframe:200,minSwipeDistance:50,touchAction:"pan-y"})),I(L,"swipe",t[5])],Et=!0)},p(t,[a]){(!wt||0&a)&&e!==(e="Random | "+F)&&(G.title=e),1&a&&s(xt,xt=t[0])?(B(),o(It,1,1,T),r(),It=W(t),It.c(),c(It),It.m(L,null)):It.p(t,a);let n=_;_=jt(t),_===n?St[_].p(t,a):(B(),o(St[n],1,1,(()=>{St[n]=null})),r(),J=St[_],J?J.p(t,a):(J=St[_]=Dt[_](t),J.c()),c(J,1),J.m(Y,null));const l={};!M&&4&a&&(M=!0,l.value=t[2],j((()=>M=!1))),C.$set(l)},i(t){wt||(c(It),c(J),c(C.$$.fragment,t),wt=!0)},o(t){o(It),o(J),o(C.$$.fragment,t),wt=!1},d(t){t&&l(a),t&&l(L),It.d(t),t&&l(P),t&&l(R),St[_].d(),V(C),Et=!1,K(yt)}}}function at(t,e,s){let a,n;L(t,q,(t=>s(8,a=t))),L(t,C,(t=>s(2,n=t)));var o=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))((function(n,o){function r(t){try{l(a.next(t))}catch(e){o(e)}}function c(t){try{l(a.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,c)}l((a=a.apply(t,e||[])).next())}))};let r,c=[],l=-1,i=null;function f(){return o(this,void 0,void 0,(function*(){let t=yield _();c.push(t);let e=yield J(t,a);for(let s of e)t.type==Y.VIDEO?document.createElement("video").src=s:(new Image).src=s}))}function p(){l+1<c.length&&(l+=1,s(0,r=c[l]));let t=c.length-(l+1);for(let e=0;e<3-t;e++)f()}function u(){l>0&&(l-=1,s(0,r=c[l]))}function d(){i?(clearInterval(i),s(1,i=null)):(p(),s(1,i=window.setInterval(p,1e3*n)))}return P((()=>o(void 0,void 0,void 0,(function*(){yield f(),p()})))),[r,i,n,d,function(t){switch(t.code){case"ArrowLeft":u();break;case"ArrowRight":p();break;case"Space":d(),t.preventDefault()}},function(t){const e=t.detail.direction;"right"===e?u():"left"==e&&p()},function(t){n=t,C.set(n)}]}export default class extends t{constructor(t){super(),e(this,t,at,st,s,{})}}
