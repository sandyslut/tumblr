import{S as t,i as s,s as e,ar as o,k as a,e as n,$ as r,d as c,n as i,c as l,a as u,b as f,f as h,as as p,v as m,r as d,t as v,g as $,a0 as k,h as g,V as b,j as x,m as j,o as w,w as E,ac as _}from"../../chunks/vendor-dbc710f8.js";import{R as P}from"../../chunks/RenderPost-54d5d13f.js";import{e as y}from"../../chunks/db-0288eb71.js";import{S as I}from"../../chunks/consts-9fb24035.js";import"../../chunks/stores-23b8e435.js";import"../../chunks/models-64f15429.js";function S(t){let s,e,o,r,p,m,d,x,j,w=(t[2].message?t[2].message:t[2])+"";return{c(){s=n("div"),e=n("h1"),o=v("500"),r=a(),p=n("p"),m=v("Failed to fetch post:"),d=a(),x=n("p"),j=v(w),this.h()},l(t){s=l(t,"DIV",{class:!0});var a=u(s);e=l(a,"H1",{});var n=u(e);o=$(n,"500"),n.forEach(c),r=i(a),p=l(a,"P",{});var f=u(p);m=$(f,"Failed to fetch post:"),f.forEach(c),d=i(a),x=l(a,"P",{});var h=u(x);j=$(h,w),h.forEach(c),a.forEach(c),this.h()},h(){f(s,"class","error svelte-1ucc809")},m(t,a){h(t,s,a),k(s,e),k(e,o),k(s,r),k(s,p),k(p,m),k(s,d),k(s,x),k(x,j)},p(t,s){1&s&&w!==(w=(t[2].message?t[2].message:t[2])+"")&&g(j,w)},i:b,o:b,d(t){t&&c(s)}}}function C(t){let s,e;return s=new P({props:{post:t[1]}}),{c(){x(s.$$.fragment)},l(t){j(s.$$.fragment,t)},m(t,o){w(s,t,o),e=!0},p(t,e){const o={};1&e&&(o.post=t[1]),s.$set(o)},i(t){e||(m(s.$$.fragment,t),e=!0)},o(t){d(s.$$.fragment,t),e=!1},d(t){E(s,t)}}}function F(t){let s,e;return s=new _({props:{style:"margin-top: 2rem;",withOverlay:!1}}),{c(){x(s.$$.fragment)},l(t){j(s.$$.fragment,t)},m(t,o){w(s,t,o),e=!0},p:b,i(t){e||(m(s.$$.fragment,t),e=!0)},o(t){d(s.$$.fragment,t),e=!1},d(t){E(s,t)}}}function N(t){let s,e,v,$,k;document.title=s="Post "+t[0]+" | "+I;let g={ctx:t,current:null,token:null,hasCatch:!0,pending:F,then:C,catch:S,value:1,error:2,blocks:[,,,]};return o($=y(t[0]),g),{c(){e=a(),v=n("section"),g.block.c(),this.h()},l(t){r('[data-svelte="svelte-1k0xeu"]',document.head).forEach(c),e=i(t),v=l(t,"SECTION",{class:!0});var s=u(v);g.block.l(s),s.forEach(c),this.h()},h(){f(v,"class","svelte-1ucc809")},m(t,s){h(t,e,s),h(t,v,s),g.block.m(v,g.anchor=null),g.mount=()=>v,g.anchor=null,k=!0},p(e,[a]){t=e,(!k||1&a)&&s!==(s="Post "+t[0]+" | "+I)&&(document.title=s),g.ctx=t,1&a&&$!==($=y(t[0]))&&o($,g)||p(g,t,a)},i(t){k||(m(g.block),k=!0)},o(t){for(let s=0;s<3;s+=1){const t=g.blocks[s];d(t)}k=!1},d(t){t&&c(e),t&&c(v),g.block.d(),g.token=null,g=null}}}var O=function(t,s,e,o){return new(e||(e=Promise))((function(a,n){function r(t){try{i(o.next(t))}catch(s){n(s)}}function c(t){try{i(o.throw(t))}catch(s){n(s)}}function i(t){var s;t.done?a(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,c)}i((o=o.apply(t,s||[])).next())}))};function R({page:t,fetch:s,session:e,context:o}){return O(this,void 0,void 0,(function*(){return/\d+/.test(t.params.post_id)?{props:{post_id:Number(t.params.post_id)}}:{status:400,error:"Invalid post id"}}))}function V(t,s,e){let{post_id:o}=s;return t.$$set=t=>{"post_id"in t&&e(0,o=t.post_id)},[o]}export default class extends t{constructor(t){super(),s(this,t,V,N,e,{post_id:0})}}export{R as load};
